-- ♠ 테이블&시퀀스 삭제
DROP TABLE CUSTOMER; -- 참조 테이블이 있을 경우 삭제 불가
-- DROP TABLE CUSTOMER CASCADE CONSTRAINTS;
DROP TABLE CUS_LEVEL;
DROP SEQUENCE CUSTOMER_CID_SEQ;
-- ♠ 테이블&시퀀스 생성
CREATE TABLE CUS_LEVEL(
    LEVELNO NUMBER(1,0),
    LEVELNAME VARCHAR2(20),
    LOW       NUMBER(9,0),
    HIGH      NUMBER(9,0),
    PRIMARY KEY(LEVELNO) );
CREATE SEQUENCE CUSTOMER_CID_SEQ MAXVALUE 999999 NOCACHE NOCYCLE;
CREATE TABLE CUSTOMER(
    cID NUMBER(6,0),
    cTEL VARCHAR2(20),
    cNAME VARCHAR2(30),
    cPOINT NUMBER(9,0) DEFAULT 1000,
    cAMOUNT NUMBER(9,0) DEFAULT 0,
    LEVELNO NUMBER(1,0) DEFAULT 1,
    PRIMARY KEY(cID),
    FOREIGN KEY(LEVELNO) REFERENCES CUS_LEVEL(LEVELNO) );
-- ♠ 더미데이터 입력(CUS_LEVEL)
INSERT INTO CUS_LEVEL VALUES (1, 'NORMAL', 0, 999999);
INSERT INTO CUS_LEVEL VALUES (2, 'SILVER', 1000000, 1999999);
INSERT INTO CUS_LEVEL VALUES (3, 'GOLD', 2000000, 2999999);
INSERT INTO CUS_LEVEL VALUES (4, 'VIP', 3000000, 3999999);
INSERT INTO CUS_LEVEL VALUES (5, 'VVIP', 4000000, 999999999);
SELECT * FROM CUS_LEVEL;
-- ♠ 더미데이터 입력(CUSTOMER)
INSERT INTO CUSTOMER (cID, cTEL, cNAME)
    VALUES (CUSTOMER_CID_SEQ.NEXTVAL, '010-9999-9999','홍길동');
INSERT INTO CUSTOMER 
    VALUES (CUSTOMER_CID_SEQ.NEXTVAL, '010-8888-9999','홍길동', 0, 4000000, 5);
INSERT INTO CUSTOMER 
    VALUES (CUSTOMER_CID_SEQ.NEXTVAL, '010-7777-7777','신길동', 0, 100000, 1);
SELECT * FROM CUSTOMER;
COMMIT;